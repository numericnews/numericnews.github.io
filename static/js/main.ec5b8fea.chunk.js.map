{"version":3,"sources":["components/CacheBuster.js","components/multiselect.js","components/ploty.js","components/layout.js","App.js","serviceWorker.js","index.js"],"names":["global","appVersion","packageJson","version","CacheBuster","props","state","loading","isLatestVersion","refreshCacheAndReload","console","log","caches","window","keys","then","names","name","delete","location","reload","fetch","response","json","meta","latestVersion","versionA","versionB","versionsA","split","versionsB","length","a","Number","shift","b","isNaN","semverGreaterThan","setState","this","children","React","Component","icon","fontSize","checkedIcon","useStyles","makeStyles","theme","input","color","MultiSelect","classes","Autocomplete","multiple","size","disablePortal","options","lists","disableCloseOnSelect","getOptionLabel","option","value","values","onChange","event","newValue","setvalue","type","style","background","padding","renderOption","selected","Fragment","Checkbox","marginRight","checked","renderInput","params","TextField","InputProps","variant","label","placeholder","id","Math","random","globalState","exponentialGrowthComment","Typography","component","href","src","height","width","alt","TabPanel","index","other","role","hidden","aria-labelledby","Box","p","filterByStartDate","startDate","data","startIdx","findIndex","r","i","getTime","concat","slice","PlotComponent","date","Date","toLocaleString","projPlotStart","activeStep","open","moment","subtract","toDate","types","field","regionValues","provinceValues","GoogleCharts","load","_draw","getSelectedItems","ev","addEventListener","afterOrientationChange","innerWidth","removeEventListener","orHandler","onOrientationChange","bind","prevProps","prevState","_","Object","resize","selectedItems","colorStr","Dygraph","toRGB_","floor","g","e","ctx","drawingContext","points","y_bottom","dygraph","toDomYCoord","fillStyle","darkenColor","min_sep","Infinity","sep","canvasx","bar_width","j","center_x","fillRect","canvasy","strokeRect","labels","getLabels","x","series","map","dashHTML","labelHTML","nowZeroSec","setSeconds","setMilliseconds","html","xHTML","dateString_","forEach","isVisible","labeledData","yHTML","isHighlighted","strokePattern","getOption","border","render","initProvinces","generalPlotGrowthRate","grPlot","drawGrowthRatePlot","yBounds","smallYBounds","lastDate","lastGrowthRates","column","gviz","api","visualization","arrayToDataTable","legendFormatter","strokeWidth","legend","labelsDiv","colorValue","digitsAfterDecimal","valueRange","drawGrowthRateGraph","document","getElementById","row","seriesName","ann","ystr","yval","datestr","format","maxlength","max","text","push","xval","tickHeight","setAnnotations","point","annotationOnHighlight","onlyVelocity","onlyTotaleCasi","filter","c","generalPlot","plot","drawChartPlot","plotTotale","assign","totaleOptions","plotVel","velOptions","drawChartGraphVel","destroy","ready","drawChartGraphTotale","projectGeneralPlot","gr","safeMax","calculateProjectionChart","projectionPlot","drawProjectionChartGraph","updateOptions","pointClickRadius","pointClickCallback","idx","maxDate","file","testsPlot","plotT","plotP","firstCasiTestati","firstCasiTestatiMap","yPBounds","optionsT","drawTampTChartGraph","optionsP","min","drawTampPChartGraph","drawChart","drawTamponiChart","drawGrowthRate","drawProjectionChart","handleDrawerToggle","key","lastMonth","clickToChangeStartDate","onClick","lastGrowthRate","firstCasiTestatiDate","firstCasiTestatiDateStr","tamponiExplanation","className","isFinalContent","d","n","toFixed","join","contentBody","maxWidth","innerHeight","provRegs","doubleClickZoomHint","left","top","position","getTabBar","Tabs","handleChange","aria-label","scrollButtons","Tab","clientHeight","Grid","container","item","xs","md","getContent","root","drawer","breakpoints","up","flexShrink","menuButton","borderRadius","drawerPaper","textAlign","content","PersistentDrawerRight","useTheme","useState","mobileOpen","setMobileOpen","setTypes","province","setProvince","regioni","setRegioni","setRegionValues","setProvinceValues","useEffect","getProvinces","sort","getRegions","foo","toolbar","noWrap","paddingLeft","paddingBottom","float","cursor","Divider","ToggleButtonGroup","exclusive","newFormats","ToggleButton","display","CssBaseline","Drawer","anchor","direction","onClose","paper","ModalProps","keepMounted","App","setTimeout","asMilliseconds","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","StrictMode","URL","process","origin","headers","contentType","get","status","indexOf","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ec5b8fea.chunk.js","sourcesContent":["// from https://dev.to/flexdinesh/cache-busting-a-react-app-22lk\n\nimport React from 'react';\nimport packageJson from '../../package.json';\nglobal.appVersion = packageJson.version;\n\n\n// version from response - first param, local version second param\nconst semverGreaterThan = (versionA, versionB) => {\n  const versionsA = versionA.split(/\\./g);\n\n  const versionsB = versionB.split(/\\./g);\n  while (versionsA.length || versionsB.length) {\n    const a = Number(versionsA.shift());\n\n    const b = Number(versionsB.shift());\n    // eslint-disable-next-line no-continue\n    if (a === b) continue;\n    // eslint-disable-next-line no-restricted-globals\n    return a > b || isNaN(b);\n  }\n  return false;\n};\n\nclass CacheBuster extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      isLatestVersion: false,\n      refreshCacheAndReload: () => {\n        console.log('Clearing cache and hard reloading...')\n        const caches = window.caches\n        if (caches) {\n          // Service worker cache should be cleared with caches.delete()\n          caches.keys().then(function(names) {\n            for (let name of names) caches.delete(name);\n          });\n        }\n\n        // delete browser cache and hard reload\n        window.location.reload(true);\n      }\n    };\n  }\n\n  componentDidMount() {\n    fetch('/meta.json')\n      .then((response) => response.json())\n      .then((meta) => {\n        const latestVersion = meta.version;\n        const currentVersion = global.appVersion;\n\n        const shouldForceRefresh = semverGreaterThan(latestVersion, currentVersion);\n        if (shouldForceRefresh) {\n          console.log(`We have a new version - ${latestVersion}. Should force refresh`);\n          this.setState({ loading: false, isLatestVersion: false });\n        } else {\n          console.log(`You already have the latest version - ${latestVersion}. No cache refresh needed.`);\n          this.setState({ loading: false, isLatestVersion: true });\n        }\n      });\n  }\n  render() {\n    const { loading, isLatestVersion, refreshCacheAndReload } = this.state;\n    return this.props.children({ loading, isLatestVersion, refreshCacheAndReload });\n  }\n}\n\nexport default CacheBuster;\n","/* eslint-disable no-use-before-define */\n\nimport React from 'react';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\nconst useStyles = makeStyles((theme) => ({\n  input: {\n    '&::placeholder': {\n      color: '#FFF',\n    },\n  },\n}))\nexport default function MultiSelect(props) {\n  const classes = useStyles();\n\n  // disablePortal=true, altrimenti nel mobile non si riesce a selezione le checkbox\n    \n  return (\n    <Autocomplete\n      multiple\n      size=\"small\"\n      disablePortal={true}  \n      options={props.lists}\n      disableCloseOnSelect\n      getOptionLabel={(option) => option}\n      value={props.values}\n      onChange={(event, newValue) => {\n        props.setvalue(newValue,props.type)\n      }}\n      style={{background:'#FFF',padding:20}}\n      renderOption={(option, { selected }) => {\n      return(\n        <React.Fragment>\n        <Checkbox\n          icon={icon}\n          checkedIcon={checkedIcon}\n          style={{ marginRight: 8 }}\n          checked={selected}\n        />\n        {option}\n      </React.Fragment>\n      )\n        \n      \n}}\n      renderInput={(params) => (\n        <TextField \n        InputProps={{\n          classes: { input: classes.input}\n        }}\n        style={{color:'#FFF'}}\n        {...params} variant=\"outlined\" label=\"\" placeholder={props.type} />\n      )}\n      id={props.id+Math.random()}\n    />\n  );\n}\n","import React, { Component } from 'react';\n\nimport { GoogleCharts } from 'google-charts'\n\nimport Dygraph from 'dygraphs'\n\nimport { generalPlot, generalPlotGrowthRate, projectGeneralPlot } from 'covid-web/totaleCasi'\nimport { testsPlot } from 'covid-web/tamponi'\nimport { init as initProvinces } from 'covid-web/provinces'\n\nimport * as _ from 'lodash'\nimport { Grid, Typography, Tabs, Tab, Box } from '@material-ui/core'\n\nimport PropTypes from 'prop-types';\nimport { smallYBounds, max2, average } from 'covid-web/analyze';\nimport * as moment from 'moment'\nimport {dateString_} from 'dygraphs/src/dygraph-utils'\n\nconst globalState = {}\n\n\nconst exponentialGrowthComment = (\n    <Typography component=\"p\">\n      Dettagli sui calcoli: il growth rate in data t e' stimato usando la formula: <br></br> r(t) = (I(t)-I(t-1)) / (I(t-1)-I(t-2)) = v(t) / v(t-1)\n      <br></br>\n      dove I(t) e' il numero totale dei casi al tempo t, v(t) e' la velocita' al tempo t.\n      Per una motivazione dell'uso di tale formula, vedi <a href=\"http://katolaz.net/covid-2019/growth.html\">Epidemic 101</a>\n      <br></br>\n      Da tale stima, la formula per il calcolo del numero di casi al tempo t e': <img src=\"/eq_growth.svg\" style={{ height: \"50%\", width: \"auto\" }} alt=\"I(t)=r**t*I(0)\"></img>, dove I(0) e' il numero di infetti iniziali. \n      <br></br> \n      Nota: questa formula e' una forte semplificazione del reale fenomeno dell'epidemia corona virus,\n      ma essendo l'epidemia di carattere esponenziale, rende comunque una idea di come l'epidemia potrebbe\n      evolvere senza misure di contenimento, di lock-down e vaccinazione.\n      <br></br>\n      Gli scienziati stanno ancora studiando le dinamiche dell'epidemia Coronavirus. Tuttavia, un growth rate maggiore di uno implica un altissimo valore di crescita. Per approfondire sull'exponential growth rate vedi\n      {' '}<a href=\"http://katolaz.net/covid-2019/growth.html\">Epidemic 101</a>, \n      {' '}<a href=\"https://www.youtube.com/watch?v=Kas0tIxDvrg&t=81s\">3Blue1Brown Youtube</a>, \n      {' '}<a href=\"https://en.wikipedia.org/wiki/Basic_reproduction_number\">R0 (wikipedia)</a>, \n      {' '}<a href=\"https://www.ncbi.nlm.nih.gov/pubmed/32007643\">Zhao, Lin, et al.</a>\n      {' '}(\"The early outbreak data largely follows the exponential growth. [We estimated a] mean R0 from 2.24 to 3.58\").\n      <br></br>\n      Ci sono formule e modelli molto piu' rifiniti, precisi e validi, che tengono conto\n      delle diverse possibili fasi ed evoluzioni della malattia nel singolo individuo,\n      tuttavia la dinamica di base dell'exponential growth e' la stessa.\n    </Typography>\n)\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={!value || value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n      style={{height:'100%'}}\n    >\n      {value === index && <Box style={{height:'50%'}} p={3}>{children}</Box>}\n    </Typography>\n\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\n// returns only the portion of the plot with dates >= startDate.\n// data: plot in GViZ format \nfunction filterByStartDate(startDate: Date, data: any[][]) {\n    const startIdx = data.findIndex((r,i) => i > 0 && r[0].getTime() >= startDate.getTime())\n    if (startIdx >= 0)\n        return [data[0]].concat(data.slice(startIdx))\n    else\n        return data\n}\n\n\nclass PlotComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: new Date().toLocaleString(),\n      projPlotStart: null,\n      activeStep: 0,\n      value: 1,\n      open: false,\n      startDate: moment().subtract(1, 'month').toDate()\n    }\n  }\n\n  getSelectedItems() {\n      \n      if (this.props.types == \"Nazione\")\n          return [\"Italia\"]\n\n      if (this.props.field === \"denominazione_regione\")\n          return this.props.regionValues\n      else \n          return this.props.provinceValues\n\n  }\n\n  componentWillMount() {\n    GoogleCharts.load(() => {\n      this._draw(this.props.field, this.getSelectedItems())\n    });\n  }\n\n  onOrientationChange(ev) {\n\n    // After orientationchange, add a one-time resize event: https://stackoverflow.com/a/49383279/7092558\n    var afterOrientationChange = () => {\n\n        this.setState({innerWidth: window.innerWidth})\n\n        // Remove the resize event listener after it has executed\n        window.removeEventListener('resize', afterOrientationChange);\n    };\n    window.addEventListener('resize', afterOrientationChange);\n  }\n\n  componentDidMount() {\n      const orHandler = this.onOrientationChange.bind(this)\n      window.addEventListener(\"orientationchange\", orHandler)\n      this.setState({ onOrientationChange: orHandler })\n  }\n\n  componentWillUnmount() {\n      if (this.state.onOrientationChange)\n          window.removeEventListener(\"orientationchange\", this.state.onOrientationChange)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n\n\n    if (prevState.startDate != this.state.startDate ||\n        prevProps.types !== this.props.types ||\n        prevProps.field !== this.props.field ||\n      !_.isEqual(prevProps.regionValues, this.props.regionValues) ||\n      !_.isEqual(prevProps.provinceValues, this.props.provinceValues)\n    ) {\n\n      const selectedItems = this.getSelectedItems()\n      if (!selectedItems.length) return;\n\n      this._draw(this.props.field, selectedItems)\n\n    } else if (prevState.innerWidth != this.state.innerWidth) {\n      // resize all\n      for (const field of Object.keys(globalState)) {\n        const value = globalState[field]\n        if (_.isObject(value) && 'resize' in value && _.isFunction(value.resize)) {\n          value.resize()\n        }\n      }\n    }\n\n  }\n\n  // Darken a color\n  darkenColor(colorStr) {\n    // Defined in dygraph-utils.js\n    var color = Dygraph.toRGB_(colorStr);\n    color.r = Math.floor((255 + color.r) / 2);\n    color.g = Math.floor((255 + color.g) / 2);\n    color.b = Math.floor((255 + color.b) / 2);\n    return 'rgb(' + color.r + ',' + color.g + ',' + color.b + ')';\n  }\n\n  // This function draws bars for a single series. See\n  // multiColumnBarPlotter below for a plotter which can draw multi-series\n  // bar charts.\n  barChartPlotter(e) {\n    var ctx = e.drawingContext;\n    var points = e.points;\n    var y_bottom = e.dygraph.toDomYCoord(0);\n\n    ctx.fillStyle = this.darkenColor(e.color);\n\n    // Find the minimum separation between x-values.\n    // This determines the bar width.\n    var min_sep = Infinity;\n    for (var i = 1; i < points.length; i++) {\n      var sep = points[i].canvasx - points[i - 1].canvasx;\n      if (sep < min_sep) min_sep = sep;\n    }\n    var bar_width = Math.floor(2.0 / 3 * min_sep);\n\n    // Do the actual plotting.\n    for (var j = 0; j < points.length; j++) {\n      var p = points[j];\n      var center_x = p.canvasx;\n\n      ctx.fillRect(center_x - bar_width / 2, p.canvasy,\n        bar_width, y_bottom - p.canvasy);\n\n      ctx.strokeRect(center_x - bar_width / 2, p.canvasy,\n        bar_width, y_bottom - p.canvasy);\n    }\n  }\n\n\n  legendFormatter(data) {\n    const g = data.dygraph\n    const labels = g ? g.getLabels() : []\n    if (data.x === null) {\n      // This happens when there's no selection and {legend: 'always'} is set.\n      return data.series\n                  .map(series => \n                          '<div>' + series.dashHTML + '</div>' +\n                          '<div>' + series.labelHTML + '</div>'\n                        )\n\n    }\n    const nowZeroSec = new Date(); nowZeroSec.setSeconds(0); nowZeroSec.setMilliseconds(0);\n    var html = '<div>' + ( \n            this.getLabels()[0] + ': ' + (data.xHTML || dateString_(nowZeroSec))\n    )  + '</div>' ;\n    data.series.forEach((series, i) => {\n      if (!series.isVisible) return;\n      var labeledData = series.labelHTML  + (series.yHTML ? ': ' + series.yHTML + \"&nbsp;\" : ': ------');\n      if (series.isHighlighted) {\n        labeledData = '<b>' + labeledData + '</b>';\n      }\n      var strokePattern = i>0 && g ? g.getOption('strokePattern', labels[i+1]) : [];\n      const border = \n            (!strokePattern || strokePattern.length <= 1 ? \"solid \" : \"dashed \") +\n           (series.color || \"white\") +\n           \" 3px\"\n      html += `<div style=\"border-bottom: ${border}\">` +labeledData+ '</div>';\n    });\n\n    return html;\n  }\n\n  async drawGrowthRate(field, selectedItems, render = true) {\n\n\n    await initProvinces();\n\n    const grPlot = await generalPlotGrowthRate(field, selectedItems)\n    grPlot.data = filterByStartDate(this.state.startDate, grPlot.data)\n\n    globalState.drawGrowthRatePlot = grPlot\n\n    const yBounds = smallYBounds(grPlot.data.slice(1), 5)\n\n    const lastDate = grPlot.data[grPlot.data.length - 1][0] // convert the last date to string\n    const lastGrowthRates = grPlot.data[0].map((column, i) => {\n      return [column.label]\n        .concat([grPlot.data[grPlot.data.length - 1][i]]) // take the growth rate of column i\n    }).slice(1, grPlot.data[0].length - 1) // note: length-1 is for removing \"crescita zero\" column\n    this.setState({\n      lastGrowthRates: {\n        data: lastGrowthRates,\n        date: lastDate\n      }\n    })\n\n    grPlot.gviz = GoogleCharts.api.visualization.arrayToDataTable(grPlot.data);\n\n    const options = {\n      legendFormatter: this.legendFormatter,\n      // labelsSeparateLines: true,\n      strokeWidth: 3,\n      legend: 'always',\n      labelsDiv: 'growthRateLegendDiv',\n      colorValue: 1,\n      digitsAfterDecimal: 4,\n      series: grPlot.options,\n      valueRange: yBounds\n    }\n\n    if (render) {\n      globalState.drawGrowthRateGraph = new Dygraph(\n        document.getElementById(\"growthRatePlotDiv\"),\n        grPlot.gviz,\n        options\n      )\n      globalState.drawGrowthRateGraph.resize()\n    }\n\n\n  }\n\n  annotationOnHighlight(g, ev, x, points, row, seriesName) {\n    const ann = []\n\n    for (const p of points) {\n      const ystr = '' + p.yval\n      const datestr = moment(x).format(\"DD MMM\")\n      const maxlength = Math.max(ystr.length, datestr.length)\n      const text = `${ystr}<br>${datestr}`\n      const length = maxlength / 1.5\n      const lines = 2\n      ann.push({\n        series: p.name,\n        xval: x,\n        width: 18 * length,\n        height: 23 * lines,\n        tickHeight: 4,\n        html: text\n      })\n    }\n\n    g.setAnnotations(ann)\n  }\n\n  annotationOnPointClick(g, ev, point) {\n    return this.annotationOnHighlight(g, ev, point.xval, [point])\n  }\n\n  async drawChart(field, selectedItems, render = true) {\n\n    function onlyVelocity(data: any[][]) {\n    \n        return data.map((r,i) =>\n            r.filter((c,i) => i % 2 == 0))\n\n    }\n\n    function onlyTotaleCasi(data: any[][]) {\n    \n        return data.map((r,i) =>\n                    r.filter((c,i) => i == 0 || i % 2 == 1))\n\n    }\n\n    await initProvinces(); // C: no sense. A: just common sense :)\n\n    const plot = await generalPlot(field, selectedItems)\n    plot.data = filterByStartDate(this.state.startDate, plot.data)\n\n    globalState.drawChartPlot = plot\n\n    const plotTotale = Object.assign({}, plot)\n    plotTotale.data = onlyTotaleCasi(plot.data)\n    plotTotale.gviz = GoogleCharts.api.visualization.arrayToDataTable(plotTotale.data);\n    const totaleOptions = {\n      legendFormatter: this.legendFormatter,\n      // labelsSeparateLines: true,\n      strokeWidth: 3,\n      legend: 'always',\n      labelsDiv: 'totaleLegendDiv',\n      colorValue: 1,\n      series: Object.assign({}, plotTotale.options),\n    }\n\n    const plotVel = Object.assign({}, plot)\n    plotVel.data = onlyVelocity(plot.data)\n    plotVel.gviz = GoogleCharts.api.visualization.arrayToDataTable(plotVel.data);\n    const velOptions = {\n      legendFormatter: this.legendFormatter,\n      // labelsSeparateLines: true,\n      strokeWidth: 3,\n      legend: 'always',\n      labelsDiv: 'velLegendDiv',\n      colorValue: 1,\n      series: Object.assign({}, plotVel.options),\n    }\n\n    if (render) {\n      if (globalState.drawChartGraphVel)\n        globalState.drawChartGraphVel.destroy()\n\n      globalState.drawChartGraphVel = new Dygraph(\n        document.getElementById(\"velPlotDiv\"),\n        plotVel.gviz,\n        velOptions\n      )\n      globalState.drawChartGraphVel.ready(()=>{\n        globalState.drawChartGraphVel.resize()\n      })\n\n      if (globalState.drawChartGraphTotale)\n        globalState.drawChartGraphTotale.destroy()\n\n      globalState.drawChartGraphTotale = new Dygraph(\n        document.getElementById(\"totalePlotDiv\"),\n        plotTotale.gviz,\n        totaleOptions\n      )\n      globalState.drawChartGraphTotale.ready(()=>{\n        globalState.drawChartGraphTotale.resize()\n      })\n\n        /* does not work when zooming\n      const g = globalState.drawChartGraph\n      g.ready(() => {\n        g.updateOptions({\n          pointClickRadius: 50,\n          pointClickCallback: this.annotationOnPointClick.bind(this, g)\n        })\n      })\n      */\n    }\n\n  }\n\n  /*\nasync drawR0(field, selectedItems, render = true) {\n\n  await initProvinces();\n\n  const plot = await plotR0(field, selectedItems)\n  globalState.drawR0Plot = plot\n\n  plot.gviz = GoogleCharts.api.visualization.arrayToDataTable(plot.data);\n\n  const options = {\n    legendFormatter: this.legendFormatter,\n    // labelsSeparateLines: true,\n    strokeWidth: 3,\n    legend: 'always',\n    labelsDiv: 'r0LegendDiv',\n    colorValue: 1,\n    series: plot.options\n  }\n\n  if (render) {\n    globalState.drawR0Graph = new Dygraph(\n      document.getElementById(\"r0PlotDiv\"),\n      plot.gviz,\n      options\n    )\n  }\n\n}\n*/\n\n  async calculateProjectionChart(field, selectedItems, startDate = null) {\n\n    await initProvinces()\n\n    const plot = await projectGeneralPlot(field, selectedItems, startDate)\n\n    this.setState({\n      projPlotStart: {\n        gr: plot.gr,\n        date: plot.startDate,\n        series: plot.series \n      }\n    })\n\n    plot.gviz = GoogleCharts.api.visualization.arrayToDataTable(plot.data);\n\n    return {plot, safeMax: plot.safeMax}\n  }\n\n  /* Important: this function must be AFTER drawChart() and drawGrowthRateChart() */\n  async drawProjectionChart(field, selectedItems, startDate = null) {\n\n    const {plot, safeMax} = await this.calculateProjectionChart(field, selectedItems, startDate)\n    globalState.projectionPlot = plot\n\n    const options = {\n      legendFormatter: this.legendFormatter,\n      // labelsSeparateLines: true,\n      strokeWidth: 3,\n      legend: 'always',\n      labelsDiv: 'projLegendDiv',\n      colorValue: 1,\n      series: plot.options,\n      valueRange: [0, safeMax],\n    }\n\n    if (globalState.drawProjectionChartGraph)\n      globalState.drawProjectionChartGraph.destroy()\n\n    globalState.drawProjectionChartGraph = new Dygraph(\n      document.getElementById(\"projPlotDiv\"),\n      plot.gviz,\n      options\n    )\n    globalState.drawProjectionChartGraph.resize()\n\n    const g = globalState.drawProjectionChartGraph\n    g.ready(() => {\n          g.updateOptions({ \n              pointClickRadius: 50,\n              pointClickCallback: async (ev, point) => {\n                const i = point.idx\n                const data = globalState.projectionPlot.data\n                let startDate = data[i+1][0]\n                if (startDate.getTime() > globalState.projectionPlot.maxDate.getTime()) {\n                    startDate = globalState.projectionPlot.maxDate\n                }\n                const {plot, safeMax} = await this.calculateProjectionChart(field, selectedItems, startDate)\n                g.updateOptions({ \n                    file: plot.gviz,\n                    valueRange: [0, safeMax]\n                })\n              }\n          })\n    })\n\n\n  }\n\n  async drawTamponiChart(field, selectedItems) {\n\n    //await initProvinces()\n    //await initRegions() done internally by testsPlot()\n\n    const plotT = await testsPlot(field, selectedItems, 0)\n    plotT.data = filterByStartDate(this.state.startDate, plotT.data)\n\n    const plotP = _.cloneDeep(plotT)\n\n    this.setState({ firstCasiTestati: plotT.firstCasiTestatiMap })\n\n    for (let i = 1; i < plotT.data.length; i++) {\n      for (let j = 1; 2 * j < plotT.data[i].length; j++) {\n        plotT.data[i][2 * j] = null\n        plotP.data[i][2 * (j - 1) + 1] = null\n      }\n    }\n\n    const yPBounds = smallYBounds(plotP.data.slice(1), 1)\n\n    plotT.gviz = GoogleCharts.api.visualization.arrayToDataTable(plotT.data);\n\n    plotP.gviz = GoogleCharts.api.visualization.arrayToDataTable(plotP.data);\n\n    const optionsT = {\n      legendFormatter: this.legendFormatter,\n      // labelsSeparateLines: true,\n      strokeWidth: 3,\n      legend: 'always',\n      labelsDiv: 'tampTLegendDiv',\n      colorValue: 1,\n      series: plotT.options,\n    }\n\n    globalState.drawTampTChartGraph = new Dygraph(\n      document.getElementById(\"tampTPlotDiv\"),\n      plotT.gviz,\n      optionsT\n    )\n    globalState.drawTampTChartGraph.resize()\n\n    const optionsP = _.clone(optionsT)\n    optionsP.labelsDiv = 'tampPLegendDiv'\n    optionsP.series = _.clone(optionsT.series)\n    optionsP.valueRange = [0, Math.min(100, yPBounds[1])]\n\n    globalState.drawTampPChartGraph = new Dygraph(\n      document.getElementById(\"tampPPlotDiv\"),\n      plotP.gviz,\n      optionsP\n    )\n    globalState.drawTampPChartGraph.resize()\n\n  }\n\n  async  _draw(field, selectedItems) {\n    switch (this.state.value) {\n      case 1:\n        await this.drawChart(field, selectedItems);\n        break;\n\n      case 2:\n        await this.drawTamponiChart(field, selectedItems)\n        break\n\n      case 3:\n        await this.drawGrowthRate(field, selectedItems);\n        break;\n\n      case 4:\n        await this.drawProjectionChart(field, selectedItems)\n        break;\n\n      default:\n        break\n    }\n  }\n\n  /* does not work with pinch-zoom\n  zoomVelocity() {\n\n    if (!globalState.drawChartGraph || !globalState.drawChartPlot)\n        return\n\n    const recentDateWindow = [moment().subtract(30, 'days').toDate(), new Date()]\n\n    const velocityPlots = globalState.drawChartPlot.data\n        .map((r,i) => i == 0 ? \n                r : \n                r.map((c,i) =>\n                    i == 0 || i % 2 == 0 ? \n                        c : \n                        'not-vel')\n                 .filter(c => c != 'not-vel'))\n        .filter((r,i) => i == 0 || r[0].getTime() >= recentDateWindow[0].getTime())\n                \n\n    const yBounds = smallYBounds(velocityPlots.slice(1), 5)\n\n    console.log(yBounds)\n\n    globalState.drawChartGraph.updateOptions({\n        valueRange: [0, yBounds[1]],\n        dateWindow: recentDateWindow\n    })\n  }*/\n\n  handleChange(event, value) {\n    if (value == 0) {\n        this.props.handleDrawerToggle()\n        return\n    }\n    const { field } = this.props;\n    const selectedItems = this.getSelectedItems(); \n    this.setState({ value: value }, () => {\n      this._draw(field, selectedItems)\n    })\n  }\n\n  getLabel() {\n    const { value } = this.state;\n    switch (value) {\n      default: return 'Approfondimento'\n    }\n  }\n\n  getContent(key: string) {\n\n    const {  \n        lastGrowthRates, value, projPlotStart, firstCasiTestati, startDate\n    } = this.state;\n\n    const lastMonth = moment().subtract(1, 'month').toDate();\n\n    const clickToChangeStartDate = (\n        !startDate || startDate.getTime() > 0 ?\n         (<Typography component=\"p\">\n              <button onClick={() => this.setState({ startDate: new Date(0) }) }\n              >Clicca per vedere anche i dati prima del {startDate.toLocaleString()}</button>\n        </Typography>) :\n        (<Typography component=\"p\">\n              <button onClick={() => this.setState({ startDate: lastMonth }) }\n              >Clicca per vedere i dati solo a partire dal {lastMonth.toLocaleString()}</button>\n        </Typography>)\n    );\n\n    const lastGrowthRate = lastGrowthRates\n\n    const firstCasiTestatiDate = firstCasiTestati && new Date(Math.max(...firstCasiTestati.values()))\n    const firstCasiTestatiDateStr = firstCasiTestatiDate ? firstCasiTestatiDate.toLocaleString() : '[non disponibile]'\n\n    const tamponiExplanation = (\n      <div className=\"explanation\">\n        <Typography component=\"p\">\n          <br></br>\n          In questi due grafi viene rappresentata la percentuale di tamponi risultati positivi\n          e il numero totale di tamponi effettuati in un dato giorno.\n          <br></br>\n          Facendo un esempio estremo, se il numero di tamponi e' basso, 10, e il numero di casi in quel giorno e' 10 (e la percentuale e' 100%), e' comunque possibile che ci siano molti altri casi, ad esempio, 100. Semplicemente, gli altri 90 casi non sono stati registrati perche' non sono stati fatti i tamponi.\n          Quindi, possiamo dire che piu' il numero di tamponi e' alto e piu' la percentuale e' bassa, piu' il numero totale dei casi e i numeri derivati da esso (velocita', growth rate), mostrati negli altri grafi, sono indicativi.\n          <br></br>\n          {clickToChangeStartDate}\n          <br></br>\n          Dettagli: a partire da giorno {firstCasiTestatiDateStr}, il numero dei tamponi e' sostituito dal numero \n          di \"casi testati\". Questo perche' i tamponi vengono fatti piu' volte ad una stessa persona. \n          \"Casi testati\", invece, non conta i tamponi duplicati, quindi una persona viene conteggiata una volta sola.\n          <br></br>\n          Prima di giorno {firstCasiTestatiDateStr}, questo parametro non era disponibile. Per piu' informazioni,\n          vedi  <a href=\"https://www.youtrend.it/2020/03/25/coronavirus-il-rebus-dei-tamponi-multipli/\">Lorenzo Ruffino</a>.\n          <br></br>\n          Nota: non e' disponibile il numero di tamponi per provincia, ma solo per regione.\n          <br></br>\n          Nota: nei primi giorni di cambio da \"tamponi\" a \"casi testati\", ci sono state delle irregolarita' nei dati di Lombardia, Lazio e Campania. Piu' precisamente, giorno 20 e 21 aprile, vedi <a href=\"https://github.com/pcm-dpc/COVID-19/blob/master/note/dpc-covid19-ita-note-it.csv\">Note DPC</a>.\n         </Typography>\n      </div>\n    )\n\n    const contentBody = () => {\n        switch (value) {\n               \n          case 1:\n                return (\n              <div className=\"explanation\">\n                <br></br>\n                  {key == \"totalePlotDiv\" ? \n                    <Typography component=\"p\">\n                      Totale casi: sono tutte le persone che sono state certificate essere infette da coronavirus. Questo numero e' uguale alla somma \"persone attualmente positive\" + \"persone guarite\" + \"persone decedute\"\n                    </Typography> :\n                    <Typography component=\"p\">\n                      Velocita': e' il numero dei nuovi casi. Se, ad esempio, oggi la velocita' e' 10, vuol dire ci sono stati 10 casi in piu' rispetto a ieri. Lo stesso vale per gli altri giorni: se giorno 15 Marzo la velocita' e' 7, vuol dire che rispetto al giorno precedente ci sono stati 7 casi in piu'.\n                    </Typography>\n                  }\n                <br></br>\n                {clickToChangeStartDate}\n              </div>\n            )\n\n          case 2: return tamponiExplanation;\n\n          case 3: return (\n            <div className=\"explanation\">\n              <Typography component=\"p\">\n                In data {lastGrowthRate?.date ? lastGrowthRate?.date.toLocaleString() : '[non-disponibile]'}, i growth rate sono:\n                          <br></br>\n                <br></br>\n                {\n                  lastGrowthRate?.data ?\n                    lastGrowthRate.data.map((d, i) =>\n                      <span key={i}>{d\n                        .map(n => _.isNumber(n) ? n.toFixed(4) : n)\n                        .join(' ')\n                      }\n                        <br></br></span>) :\n                    '[non disponibile]'\n                }\n              </Typography>\n\n              <br></br>\n              <Typography component=\"p\">\n                Growth rate: rapporto tra la velocita' di un giorno e quella del giorno precedente. E' una quantita' importante perche' e' una stima della crescita della velocita'. Se il growth rate e' maggiore di 1, allora la velocita' sta' crescendo. Se e' minore, sta' diminuendo. L'epidemia finisce solo se la velocita' scende e rimane a zero.\n                </Typography>\n              <br></br>\n              {clickToChangeStartDate}\n              <br></br>\n              <Typography component=\"p\">\n                La crescita del numero di casi in un'epidemia come il Coronavirus e' esponenziale.\n                In una crescita esponenziale anche valori poco piu' alti (growth rate > 1) implicano un'altissima crescita.\n                Ad esempio, se ci sono 100 infetti, con growth rate 1.22, solo dopo 30 giorni ci saranno 39000 infetti.\n              </Typography>\n              <br></br>\n              {exponentialGrowthComment}\n            </div>\n          );\n\n          case 4: return (\n              <div className=\"explanation\">\n                <Typography component=\"p\">\n                  In questo grafo, viene usato il growth rate per mostrare <b>a grandi linee</b>{' '}\n                  come procederebbe l'epidemia se non venissero fatte delle misure di contenimento e lock-down.\n                  Senza misure di prevenzione, l'andamento dei nuovi casi sarebbe esponenziale.\n                </Typography>\n                {projPlotStart ? (\n                    <Typography component=\"p\">\n                        L'andamento ipotetico graficato (linee tratteggiate) e' a partire da giorno {projPlotStart.date.toLocaleString()},\n                        dove i growth rate erano {projPlotStart.gr.map(r=>r.toFixed(3)).join(', ')} in {projPlotStart.series.join(', ')}.\n                        <br></br>\n                        Puoi cliccare su un punto del grafo per cambiare il giorno dell'inizio della proiezione. La proiezione verra' ricalcolata a partire da quel punto, usando il growth rate di quel giorno.\n                         <br></br>\n                         Nota: la proiezione inizia giorno {projPlotStart.date.toLocaleString()}. Il numero di infetti iniziale <i>I(0)</i> in quel giorno e' scelto come il numero di \"totale positivi\", ovvero il numero di persone infette vive e non ancora guarite. Nel grafo si puo' notare un balzo in basso, infatti, \"totale positivi\" {'<='} \"totale casi\".                         <br></br>\n                         Infine, se il growth rate e' minore di 1, la proiezione non ha piu' senso e verra' graficata una linea costante.\n                    </Typography>\n                    ) :\n                    ''}\n              {exponentialGrowthComment}\n              </div>\n            )\n\n          default: return <div />\n        }\n    }\n\n    const isFinalContent = !key || key == \"velPlotDiv\"\n\n    return (\n        <>\n            {contentBody()}\n            {isFinalContent ? \n                (<div style={{\"font-size\": \"smaller\"}}>\n                <br></br>\n                I dati sono forniti dalla <a href=\"https://github.com/pcm-dpc/COVID-19\">Protezione Civile</a>.\n                Il codice sorgente dei plot e' disponibile su <a href=\"https://github.com/numericnews/numericnews.github.io/tree/master/covid-web\">github</a>.\n                <br></br>\n                <a href=\"https://www.linkedin.com/in/lopumo/\">Andrea Lo Pumo</a>, <a href=\"https://www.linkedin.com/in/claudiomusumeci/\">Claudio F. Musumeci</a>.  <a href=\"mailto:numeric-news-authors@googlegroups.com\">Contattaci</a>.\n                </div>) :\n                <></>\n            }\n        </>\n    )\n  }\n\n\n  handleClose() {\n    this.setState({ open: false });\n  }\n\n  render() {\n\n    const maxWidth = window.innerWidth > window.innerHeight ?\n                        (window.innerWidth - 20/100*window.innerWidth) + 'px' :\n                        (window.innerWidth - 10/100*window.innerWidth) + 'px'\n/*\n    const maxHeight = window.innerHeight > window.innerWidth ?\n                        (window.innerHeight - 10/100*window.innerHeight) + 'px' :\n                        (window.innerHeight - 5/100*window.innerHeight) + 'px'\n*/\n    const { value } = this.state;\n\n    const provRegs = this.props.types == \"Regione\" ? 'regioni' : 'province'\n\n    const doubleClickZoomHint = (\n        <div style={{left:'60px', top:'10px', position: 'absolute', \"font-size\": 'small'}}>\n                Due dita per zoomare. Doppio click per resettare.\n        </div>\n    )\n\n    const getTabBar = () => document.getElementById('tabBar')\n\n    return (\n\n\n      <React.Fragment>\n        <Tabs id=\"tabBar\"\n            onChange={this.handleChange.bind(this)} aria-label=\"ploty tabs\" \n                  variant=\"fullWidth\"\n                  scrollButtons=\"auto\"\n                  className='generalTabs'\n                  value={this.state.value}\n      >\n          <Tab label={\"Altre \"+provRegs}/>\n          <Tab label=\"Totale casi\" />\n          <Tab label=\"Tamponi\" />\n          <Tab label=\"Growth Rate\" />\n          <Tab label=\"Exp Growth Rate\" />\n        </Tabs>\n        <TabPanel label={\"Altre \"+provRegs} value={value} index={0} >\n        empty\n        </TabPanel>\n        <TabPanel label={\"Totale casi\"} value={value} index={1} >\n          <div id=\"totaleCasi\" style={{height:'100%', top: getTabBar()?.clientHeight, position: 'relative'}}>\n          <Grid container style={{height:(window.innerHeight*75/100)+'px'\n          }}>\n            <Grid item xs={12} md={12} className=\"containerLegend\">\n              <div id='totaleLegendDiv'></div>\n              </Grid>\n\n              <Grid item xs={12} md={12} style={{\n                  position: 'relative',\n                  width: '90%',\n                  height: '100%',\n                  maxWidth,\n                 }}>\n                {doubleClickZoomHint}\n                <div id='totalePlotDiv' style={{ width: '100%',height:'100%' }}></div>\n              </Grid>\n              <Grid item xs={12}>\n           {this.getContent(\"totalePlotDiv\")}       \n           </Grid>\n            <Grid item xs={12} md={12} className=\"containerLegend\">\n              <div id='velLegendDiv'></div>\n              </Grid>\n\n              <Grid item xs={12} md={12} style={{\n                  position: 'relative',\n                  width: '90%',\n                  height: '100%',\n                  maxWidth,\n                 }}>\n                {doubleClickZoomHint}\n                <div id='velPlotDiv' style={{ width: '100%',height:'100%' }}></div>\n              </Grid>\n              <Grid item xs={12}>\n           {this.getContent(\"velPlotDiv\")}       \n           </Grid>\n\n            </Grid>\n          </div>\n        </TabPanel>\n        <TabPanel label={\"Tamponi\"} value={value} index={2}>\n          <div style={{top: getTabBar()?.clientHeight, position: 'relative'}}>\n            <Grid container style={{ height: window.innerHeight * 75 / 100 + 'px' }}>\n              <Grid item xs={12} md={12} className=\"containerLegend\">\n                <div id='tampPLegendDiv'></div>\n              </Grid>\n              <Grid item xs={12} md={12} style={{ position: 'relative', width: '100%', height: '100%', maxWidth }}>\n                {doubleClickZoomHint}\n                <div id='tampPPlotDiv' style={{ width: '100%', height: '100%' }}></div>\n              </Grid>\n\n\n\n              <Grid item xs={12} md={12} style={{ position: 'relative', width: '100%', height: '100%', maxWidth }}>\n                {doubleClickZoomHint}\n                <div id='tampTPlotDiv' style={{ width: '100%', height: '100%' }}></div>\n              </Grid>\n              <Grid item xs={12} md={12} className=\"containerLegend\">\n                <div id='tampTLegendDiv'></div>\n              </Grid>\n\n              <Grid item xs={12}>\n                {this.getContent()}\n              </Grid>\n            </Grid>\n          </div>\n\n        </TabPanel>\n\n        <TabPanel label={\"Growth Rate\"} value={value} index={3}>\n          <div style={{top: getTabBar()?.clientHeight, position: 'relative'}}>\n          <Grid container style={{height:window.innerHeight*75/100+'px'}}>\n               <Grid item xs={12} md={12} className=\"containerLegend\">\n                  <div id='growthRateLegendDiv'></div>\n               </Grid>\n               <Grid item xs={12} md={12} style={{ position: 'relative', width: '100%',height:'100%',maxWidth}}>\n                  {doubleClickZoomHint}\n                  <div id='growthRatePlotDiv' style={{ width: '100%',height:'100%'  }}></div>\n               </Grid>\n               <Grid item xs={12}>\n                 {this.getContent()}       \n               </Grid>\n            </Grid>\n          </div>\n        </TabPanel>\n\n        <TabPanel label={\"Proiezione\"} value={value} index={4}>\n          <div style={{top: getTabBar()?.clientHeight, position: 'relative'}}>\n              <Grid container style={{height:window.innerHeight*75/100+'px'}}>\n                  <Grid item xs={12} md={12} className=\"containerLegend\">\n                      <div id='projLegendDiv'></div>\n                  </Grid>\n                  <Grid item xs={12} md={12} style={{ position: 'relative', width: '100%',height:'100%',maxWidth}}>\n                      {doubleClickZoomHint}\n                      <div id='projPlotDiv' style={{ width: '100%',height:'100%'  }}></div>\n                  </Grid>\n                  <Grid item xs={12}>\n                      {this.getContent()}       \n                  </Grid>\n              </Grid>\n          </div>\n\n        </TabPanel>\n      </React.Fragment>\n    );\n  }\n}\nexport default PlotComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport { Drawer, Grid } from '@material-ui/core';\nimport Hidden from '@material-ui/core/Hidden';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport IconButton from '@material-ui/core/IconButton';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MailIcon from '@material-ui/icons/Mail';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport MultiSelect from './multiselect'\nimport { init as initProvinces } from 'covid-web/provinces'\nimport Ploty from './ploty'\nimport { getProvinces, getRegions } from 'covid-web/totaleCasi';\n\nconst drawerWidth = 300;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  menuButton: {\n    border:'solid 1px #FFF',\n    borderRadius:'15px',\n    fontSize:'10px',\n    // marginRight: theme.spacing(2),\n    padding:'3px',\n    fontSize:'1rem'\n  },\n  // necessary for content to be below app bar\n  drawerPaper: {\n    // width: drawerWidth,\n    background: '#2c2e35',\n    color: '#FFF',\n    textAlign: 'center'\n  },\n  content: {\n    // flexGrow: 1,\n    // padding: theme.spacing(3),\n  },\n}));\n\nexport default function PersistentDrawerRight(props) {\n  const { container } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const [types, setTypes] = React.useState('Provincia');\n  const [province, setProvince] = React.useState([])\n  const [regioni, setRegioni] = React.useState([])\n  const [regionValues, setRegionValues] = React.useState([\"Lombardia\", \"Veneto\"])\n  const [provinceValues, setProvinceValues] = React.useState([\"Bergamo\", \"Milano\", \"Venezia\"])\n  function setSelectedProvince(newValue) {\n    setProvinceValues(newValue)\n  }\n  function setSelectedRegion(newValue) {\n    setRegionValues(newValue)\n  }\n  React.useEffect(() => {\n\n    const foo = async () => {\n      await initProvinces()\n\n      setProvince(getProvinces().sort())\n      setRegioni(getRegions().sort())\n    }\n\n    foo()\n\n  }, [])\n\n  const handleType = (event, newFormats) => {\n    setTypes(newFormats);\n  };\n\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} >\n        <Grid container style={{ position: 'relative', top: '15px' }}>\n          <Grid item xs={6}>\n            <Typography variant=\"h6\" noWrap style={{ paddingLeft: 10, paddingBottom: 20 }}>\n              Filtra\n           </Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <ArrowBackIosIcon style={{ float: 'right', cursor: 'pointer' }}\n              onClick={handleDrawerToggle}\n\n            />\n\n          </Grid>\n\n        </Grid>\n\n\n      </div>\n      <Divider />\n      <ToggleButtonGroup exclusive value={types} onChange={handleType} aria-label=\"aree_buttons\">\n        <ToggleButton value=\"Nazione\" aria-label=\"bold\">\n          Nazione\n        </ToggleButton>\n        <ToggleButton value=\"Regione\" aria-label=\"bold\">\n          Regioni\n            </ToggleButton>\n        <ToggleButton value=\"Province\" aria-label=\"bold\">\n          Province\n            </ToggleButton>\n      </ToggleButtonGroup>\n      <Divider />\n      <div style={{ display: types === 'Regione' ? 'block' : 'none' }}>\n        <MultiSelect id=\"regione\" values={regionValues} setvalue={setSelectedRegion} type={'Regioni'} lists={regioni} />\n      </div>\n      <div style={{ display: types === 'Province' ? 'block' : 'none' }}>\n        <MultiSelect id=\"province\" values={provinceValues} setvalue={setSelectedProvince} type={'Province'} lists={province} />\n      </div>\n      <div style={{ display: types === 'Nazione' ? 'block' : 'none' }}>\n        <MultiSelect id=\"nazione\" values={[\"Italia\"]} type={'Nazione'} lists={[\"Italia\"]} />\n      </div>\n\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      {/*\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n        </Toolbar>\n      </AppBar>\n      */}\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Drawer\n          container={container}\n          variant=\"temporary\"\n          anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n          open={mobileOpen}\n          onClose={handleDrawerToggle}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n          ModalProps={{\n            keepMounted: true, // Better open performance on mobile.\n          }}\n        >\n          {drawer}\n        </Drawer>\n      </nav>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n      {!mobileOpen ?\n        <Ploty \n          handleDrawerToggle={handleDrawerToggle}\n          types={types}\n          field={\n           types === \"Regione\"\n            ? 'denominazione_regione'\n            : 'denominazione_provincia'}\n          regionValues={regionValues}\n          provinceValues={provinceValues}\n        /> :\n        <></>}\n      </main>\n    </div>\n\n  );\n}\n","import React from 'react';\nimport './App.css';\nimport Layout from './components/layout'\nimport { Grid, Typography } from '@material-ui/core'\nimport CacheBuster from './components/CacheBuster'\nimport * as moment from 'moment'\n\nfunction App() {\n\n  return (\n    <CacheBuster>\n      {({ loading, isLatestVersion, refreshCacheAndReload }) => {\n        if (loading) return null;\n        if (!loading && !isLatestVersion) {\n          refreshCacheAndReload();\n        }\n\n        // refresh everything to get updated data from Protezione Civile\n        setTimeout(refreshCacheAndReload, moment.duration(5, 'hour').asMilliseconds())\n\n        return (<div id='App'>\n          <Grid container>\n            <Grid item xs={12}>\n              <Layout />\n\n            </Grid>\n            {/* <Grid item xs={12} className='footer'>\n            \n                  <Typography component=\"p\">\n                  I dati rappresentati in questi grafici sono forniti dalla <a href=\"https://github.com/pcm-dpc/COVID-19\">Protezione Civile</a>\n                  </Typography>\n                </Grid> */}\n          </Grid>\n        </div>)\n      }}\n    </CacheBuster>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}