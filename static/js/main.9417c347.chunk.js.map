{"version":3,"sources":["components/multiselect.js","components/ploty.js","components/layout.js","App.js","serviceWorker.js","index.js"],"names":["icon","fontSize","checkedIcon","useStyles","makeStyles","theme","input","color","MultiSelect","props","classes","Autocomplete","multiple","size","disablePortal","options","lists","disableCloseOnSelect","getOptionLabel","option","value","values","onChange","event","newValue","setvalue","type","style","background","padding","renderOption","selected","Fragment","Checkbox","marginRight","checked","renderInput","params","TextField","InputProps","variant","label","placeholder","id","Math","random","globalState","exponentialGrowthComment","Typography","component","href","src","height","width","alt","TabPanel","children","index","other","role","hidden","aria-labelledby","Box","p","PlotComponent","state","date","Date","toLocaleString","projPlotStart","activeStep","open","this","types","field","regionValues","provinceValues","GoogleCharts","load","_draw","getSelectedItems","ev","setState","innerWidth","window","orHandler","onOrientationChange","bind","addEventListener","removeEventListener","prevProps","prevState","_","Object","keys","resize","selectedItems","length","colorStr","Dygraph","toRGB_","r","floor","g","b","e","ctx","drawingContext","points","y_bottom","dygraph","toDomYCoord","fillStyle","darkenColor","min_sep","Infinity","i","sep","canvasx","bar_width","j","center_x","fillRect","canvasy","strokeRect","data","labels","getLabels","x","series","map","dashHTML","labelHTML","nowZeroSec","setSeconds","setMilliseconds","html","xHTML","dateString_","forEach","isVisible","labeledData","yHTML","isHighlighted","strokePattern","getOption","border","render","initProvinces","generalPlotGrowthRate","grPlot","drawGrowthRatePlot","yBounds","smallYBounds","slice","lastDate","lastGrowthRates","column","concat","gviz","api","visualization","arrayToDataTable","legendFormatter","strokeWidth","legend","labelsDiv","colorValue","digitsAfterDecimal","valueRange","drawGrowthRateGraph","document","getElementById","row","seriesName","ann","ystr","yval","datestr","moment","format","maxlength","max","text","push","name","xval","tickHeight","setAnnotations","point","annotationOnHighlight","generalPlot","plot","drawChartPlot","drawChartGraph","destroy","ready","startDate","getMax","maxYs","a","max2","filter","getAvg","avg","averaged","average","getNearestIdx","y","md","mi","abs","startIdx","D","ni","findIndex","getTime","gr","c","projectGeneralPlot","dataMax","projDataMax","safeMax","min","calculateProjectionChart","drawProjectionChartGraph","updateOptions","pointClickRadius","pointClickCallback","idx","file","testsPlot","plotT","plotP","firstCasiTestati","firstCasiTestatiMap","yPBounds","optionsT","drawTampTChartGraph","optionsP","drawTampPChartGraph","drawChart","drawTamponiChart","drawGrowthRate","drawProjectionChart","recentDateWindow","subtract","toDate","velocityPlots","console","log","dateWindow","handleDrawerToggle","lastGrowthRate","firstCasiTestatiDate","firstCasiTestatiDateStr","tamponiExplanation","className","onClick","zoomVelocity","d","key","n","toFixed","join","maxWidth","innerHeight","provRegs","doubleClickZoomHint","left","top","position","Tabs","handleChange","aria-label","scrollButtons","Tab","Grid","container","item","xs","getContent","Component","root","drawer","breakpoints","up","flexShrink","menuButton","borderRadius","drawerPaper","textAlign","content","PersistentDrawerRight","useTheme","React","useState","mobileOpen","setMobileOpen","setTypes","province","setProvince","regioni","setRegioni","setRegionValues","setProvinceValues","useEffect","getProvinces","sort","getRegions","foo","toolbar","noWrap","paddingLeft","paddingBottom","float","cursor","Divider","ToggleButtonGroup","exclusive","newFormats","ToggleButton","display","CssBaseline","Drawer","anchor","direction","onClose","paper","ModalProps","keepMounted","App","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","StrictMode","URL","process","origin","fetch","headers","response","contentType","get","status","indexOf","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.9417c347.chunk.js","sourcesContent":["/* eslint-disable no-use-before-define */\n\nimport React from 'react';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\nconst useStyles = makeStyles((theme) => ({\n  input: {\n    '&::placeholder': {\n      color: '#FFF',\n    },\n  },\n}))\nexport default function MultiSelect(props) {\n  const classes = useStyles();\n\n  // disablePortal=true, altrimenti nel mobile non si riesce a selezione le checkbox\n    \n  return (\n    <Autocomplete\n      multiple\n      size=\"small\"\n      disablePortal={true}  \n      options={props.lists}\n      disableCloseOnSelect\n      getOptionLabel={(option) => option}\n      value={props.values}\n      onChange={(event, newValue) => {\n        props.setvalue(newValue,props.type)\n      }}\n      style={{background:'#FFF',padding:20}}\n      renderOption={(option, { selected }) => {\n      return(\n        <React.Fragment>\n        <Checkbox\n          icon={icon}\n          checkedIcon={checkedIcon}\n          style={{ marginRight: 8 }}\n          checked={selected}\n        />\n        {option}\n      </React.Fragment>\n      )\n        \n      \n}}\n      renderInput={(params) => (\n        <TextField \n        InputProps={{\n          classes: { input: classes.input}\n        }}\n        style={{color:'#FFF'}}\n        {...params} variant=\"outlined\" label=\"\" placeholder={props.type} />\n      )}\n      id={props.id+Math.random()}\n    />\n  );\n}\n","import React, { Component } from 'react';\n\nimport { GoogleCharts } from 'google-charts'\n\nimport Dygraph from 'dygraphs'\n\nimport { generalPlot, generalPlotGrowthRate, projectGeneralPlot } from 'covid-web/totaleCasi'\nimport { testsPlot } from 'covid-web/tamponi'\nimport { init as initProvinces } from 'covid-web/provinces'\n\nimport * as _ from 'lodash'\nimport { Grid, Typography, Tabs, Tab, Box } from '@material-ui/core'\n\nimport InfoIcon from '@material-ui/icons/Info';\nimport PropTypes from 'prop-types';\nimport { smallYBounds, max2, average } from 'covid-web/analyze';\nimport * as moment from 'moment'\nimport {dateString_} from 'dygraphs/src/dygraph-utils'\n\nconst globalState = {}\n\n\nconst exponentialGrowthComment = (\n    <Typography component=\"p\">\n      Dettagli sui calcoli: il growth rate in data t e' stimato usando la formula: <br></br> r(t) = (I(t)-I(t-1)) / (I(t-1)-I(t-2)) = v(t) / v(t-1)\n      <br></br>\n      dove I(t) e' il numero totale dei casi al tempo t, v(t) e' la velocita' al tempo t.\n      Per una motivazione dell'uso di tale formula, vedi <a href=\"http://katolaz.net/covid-2019/growth.html\">Epidemic 101</a>\n      <br></br>\n      Da tale stima, la formula per il calcolo del numero di casi al tempo t e': <img src=\"/eq_growth.svg\" style={{ height: \"50%\", width: \"auto\" }} alt=\"I(t)=r**t*I(0)\"></img>, dove I(0) e' il numero di infetti iniziali. \n      <br></br> \n      Nota: questa formula e' una forte semplificazione del reale fenomeno dell'epidemia corona virus,\n      ma essendo l'epidemia di carattere esponenziale, rende comunque una idea di come l'epidemia potrebbe\n      evolvere senza misure di contenimento, di lock-down e vaccinazione.\n      <br></br>\n      Gli scienziati stanno ancora studiando le dinamiche dell'epidemia Coronavirus. Tuttavia, un growth rate maggiore di uno implica un altissimo valore di crescita. Per approfondire sull'exponential growth rate vedi\n      {' '}<a href=\"http://katolaz.net/covid-2019/growth.html\">Epidemic 101</a>, \n      {' '}<a href=\"https://www.youtube.com/watch?v=Kas0tIxDvrg&t=81s\">3Blue1Brown Youtube</a>, \n      {' '}<a href=\"https://en.wikipedia.org/wiki/Basic_reproduction_number\">R0 (wikipedia)</a>, \n      {' '}<a href=\"https://www.ncbi.nlm.nih.gov/pubmed/32007643\">Zhao, Lin, et al.</a>\n      {' '}(\"The early outbreak data largely follows the exponential growth. [We estimated a] mean R0 from 2.24 to 3.58\").\n      <br></br>\n      Ci sono formule e modelli molto piu' rifiniti, precisi e validi, che tengono conto\n      delle diverse possibili fasi ed evoluzioni della malattia nel singolo individuo,\n      tuttavia la dinamica di base dell'exponential growth e' la stessa.\n    </Typography>\n)\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={!value || value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n      style={{height:'100%'}}\n    >\n      {value === index && <Box style={{height:'50%'}} p={3}>{children}</Box>}\n    </Typography>\n\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nclass PlotComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: new Date().toLocaleString(),\n      projPlotStart: null,\n      activeStep: 0,\n      value: 1,\n      open: false\n    }\n  }\n\n  getSelectedItems() {\n      \n      if (this.props.types == \"Nazione\")\n          return [\"Italia\"]\n\n      if (this.props.field === \"denominazione_regione\")\n          return this.props.regionValues\n      else \n          return this.props.provinceValues\n\n  }\n\n  componentWillMount() {\n    GoogleCharts.load(() => {\n      this._draw(this.props.field, this.getSelectedItems())\n    });\n  }\n\n  onOrientationChange(ev) {\n    this.setState({innerWidth: window.innerWidth})\n  }\n\n  componentDidMount() {\n      const orHandler = this.onOrientationChange.bind(this)\n      this.setState({ onOrientationChange: orHandler }, () => {\n          window.addEventListener(\"orientationchange\", orHandler)\n          // window.addEventListener(\"onresize\", this.resizeAll)\n      })\n  }\n\n  componentWillUnmount() {\n      if (this.state.onOrientationChange)\n          window.removeEventListener(\"orientationchange\", this.state.onOrientationChange)\n  //  window.removeEventListener(\"onresize\", this.resizeAll)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n\n\n    if (prevProps.types !== this.props.types ||\n        prevProps.field !== this.props.field ||\n      !_.isEqual(prevProps.regionValues, this.props.regionValues) ||\n      !_.isEqual(prevProps.provinceValues, this.props.provinceValues)\n    ) {\n\n      const selectedItems = this.getSelectedItems()\n      if (!selectedItems.length) return;\n\n      this._draw(this.props.field, selectedItems)\n\n    } else if (prevState.innerWidth != this.state.innerWidth) {\n      // resize all\n      for (const field of Object.keys(globalState)) {\n        const value = globalState[field]\n        if (_.isObject(value) && 'resize' in value && _.isFunction(value.resize)) {\n          value.resize()\n        }\n      }\n    }\n\n  }\n\n  // Darken a color\n  darkenColor(colorStr) {\n    // Defined in dygraph-utils.js\n    var color = Dygraph.toRGB_(colorStr);\n    color.r = Math.floor((255 + color.r) / 2);\n    color.g = Math.floor((255 + color.g) / 2);\n    color.b = Math.floor((255 + color.b) / 2);\n    return 'rgb(' + color.r + ',' + color.g + ',' + color.b + ')';\n  }\n\n  // This function draws bars for a single series. See\n  // multiColumnBarPlotter below for a plotter which can draw multi-series\n  // bar charts.\n  barChartPlotter(e) {\n    var ctx = e.drawingContext;\n    var points = e.points;\n    var y_bottom = e.dygraph.toDomYCoord(0);\n\n    ctx.fillStyle = this.darkenColor(e.color);\n\n    // Find the minimum separation between x-values.\n    // This determines the bar width.\n    var min_sep = Infinity;\n    for (var i = 1; i < points.length; i++) {\n      var sep = points[i].canvasx - points[i - 1].canvasx;\n      if (sep < min_sep) min_sep = sep;\n    }\n    var bar_width = Math.floor(2.0 / 3 * min_sep);\n\n    // Do the actual plotting.\n    for (var j = 0; j < points.length; j++) {\n      var p = points[j];\n      var center_x = p.canvasx;\n\n      ctx.fillRect(center_x - bar_width / 2, p.canvasy,\n        bar_width, y_bottom - p.canvasy);\n\n      ctx.strokeRect(center_x - bar_width / 2, p.canvasy,\n        bar_width, y_bottom - p.canvasy);\n    }\n  }\n\n\n  legendFormatter(data) {\n    const g = data.dygraph\n    const labels = g ? g.getLabels() : []\n    if (data.x === null) {\n      // This happens when there's no selection and {legend: 'always'} is set.\n      return data.series\n                  .map(series => \n                          '<div>' + series.dashHTML + '</div>' +\n                          '<div>' + series.labelHTML + '</div>'\n                        )\n\n    }\n    const nowZeroSec = new Date(); nowZeroSec.setSeconds(0); nowZeroSec.setMilliseconds(0);\n    var html = '<div>' + ( \n            this.getLabels()[0] + ': ' + (data.xHTML || dateString_(nowZeroSec))\n    )  + '</div>' ;\n    data.series.forEach((series, i) => {\n      if (!series.isVisible) return;\n      var labeledData = series.labelHTML  + (series.yHTML ? ': ' + series.yHTML + \"&nbsp;\" : ': ------');\n      if (series.isHighlighted) {\n        labeledData = '<b>' + labeledData + '</b>';\n      }\n      var strokePattern = i>0 && g ? g.getOption('strokePattern', labels[i+1]) : [];\n      const border = \n            (!strokePattern || strokePattern.length <= 1 ? \"solid \" : \"dashed \") +\n           (series.color || \"white\") +\n           \" 3px\"\n      html += `<div style=\"border-bottom: ${border}\">` +labeledData+ '</div>';\n    });\n\n    return html;\n  }\n\n  async drawGrowthRate(field, selectedItems, render = true) {\n\n\n    await initProvinces();\n\n    const grPlot = await generalPlotGrowthRate(field, selectedItems)\n    globalState.drawGrowthRatePlot = grPlot\n    const yBounds = smallYBounds(grPlot.data.slice(1), 5)\n\n    const lastDate = grPlot.data[grPlot.data.length - 1][0] // convert the last date to string\n    const lastGrowthRates = grPlot.data[0].map((column, i) => {\n      return [column.label]\n        .concat([grPlot.data[grPlot.data.length - 1][i]]) // take the growth rate of column i\n    }).slice(1, grPlot.data[0].length - 1) // note: length-1 is for removing \"crescita zero\" column\n    this.setState({\n      lastGrowthRates: {\n        data: lastGrowthRates,\n        date: lastDate\n      }\n    })\n\n    grPlot.gviz = GoogleCharts.api.visualization.arrayToDataTable(grPlot.data);\n\n    const options = {\n      legendFormatter: this.legendFormatter,\n      // labelsSeparateLines: true,\n      strokeWidth: 3,\n      legend: 'always',\n      labelsDiv: 'growthRateLegendDiv',\n      colorValue: 1,\n      digitsAfterDecimal: 4,\n      series: grPlot.options,\n      valueRange: yBounds\n    }\n\n    if (render) {\n      globalState.drawGrowthRateGraph = new Dygraph(\n        document.getElementById(\"growthRatePlotDiv\"),\n        grPlot.gviz,\n        options\n      )\n      globalState.drawGrowthRateGraph.resize()\n    }\n\n\n  }\n\n  annotationOnHighlight(g, ev, x, points, row, seriesName) {\n    const ann = []\n\n    for (const p of points) {\n      const ystr = '' + p.yval\n      const datestr = moment(x).format(\"DD MMM\")\n      const maxlength = Math.max(ystr.length, datestr.length)\n      const text = `${ystr}<br>${datestr}`\n      const length = maxlength / 1.5\n      const lines = 2\n      ann.push({\n        series: p.name,\n        xval: x,\n        width: 18 * length,\n        height: 23 * lines,\n        tickHeight: 4,\n        html: text\n      })\n    }\n\n    g.setAnnotations(ann)\n  }\n\n  annotationOnPointClick(g, ev, point) {\n    return this.annotationOnHighlight(g, ev, point.xval, [point])\n  }\n\n  async drawChart(field, selectedItems, render = true) {\n\n    await initProvinces(); // C: no sense. A: just common sense :)\n\n    const plot = await generalPlot(field, selectedItems)\n    globalState.drawChartPlot = plot\n\n    plot.gviz = GoogleCharts.api.visualization.arrayToDataTable(plot.data);\n\n    const options = {\n      legendFormatter: this.legendFormatter,\n      // labelsSeparateLines: true,\n      strokeWidth: 3,\n      legend: 'always',\n      labelsDiv: 'legendDiv',\n      colorValue: 1,\n      series: plot.options,\n    }\n\n    if (render) {\n      if (globalState.drawChartGraph)\n        globalState.drawChartGraph.destroy()\n\n      globalState.drawChartGraph = new Dygraph(\n        document.getElementById(\"plotDiv\"),\n        plot.gviz,\n        options\n      )\n      globalState.drawChartGraph.ready(()=>{\n        globalState.drawChartGraph.resize()\n      })\n        /* does not work when zooming\n      const g = globalState.drawChartGraph\n      g.ready(() => {\n        g.updateOptions({\n          pointClickRadius: 50,\n          pointClickCallback: this.annotationOnPointClick.bind(this, g)\n        })\n      })\n      */\n    }\n\n  }\n\n  /*\nasync drawR0(field, selectedItems, render = true) {\n\n  await initProvinces();\n\n  const plot = await plotR0(field, selectedItems)\n  globalState.drawR0Plot = plot\n\n  plot.gviz = GoogleCharts.api.visualization.arrayToDataTable(plot.data);\n\n  const options = {\n    legendFormatter: this.legendFormatter,\n    // labelsSeparateLines: true,\n    strokeWidth: 3,\n    legend: 'always',\n    labelsDiv: 'r0LegendDiv',\n    colorValue: 1,\n    series: plot.options\n  }\n\n  if (render) {\n    globalState.drawR0Graph = new Dygraph(\n      document.getElementById(\"r0PlotDiv\"),\n      plot.gviz,\n      options\n    )\n  }\n\n}\n*/\n\n  async calculateProjectionChart(field, selectedItems, startDate = null) {\n    if (!globalState.drawChartPlot?.data || !globalState.drawGrowthRatePlot?.data)\n      return\n\n    await initProvinces()\n\n\n    const getMax = (data) => {\n        const maxYs = data[0].map((a,i) => \n                        i == 0 ? 0 : max2(data.map((r,j) => j == 0 ? 0 : r[i]).filter(_.isFinite)).max)\n        const maxY = Math.max(...maxYs)\n        return maxY\n    }\n\n    const getAvg = (data) => {\n        const avg = _.range(0, data[1].length - 1).map(a => null)\n        for (let j = 1; j < data[1].length; j++) {\n         let averaged = 0\n         for(let i = 1; i < data.length; i++) {\n               if (!_.isFinite(data[i][j]))\n                 continue\n               avg[j] += data[i][j]\n               averaged++\n         }\n         avg[j] /= averaged\n        }\n        return average(avg.filter(_.isFinite))\n    }\n\n    const getNearestIdx = (data, y) => {\n        let md = +Infinity\n        let mi = -1\n        for (let j = 1; j < data[1].length; j++) {\n         for(let i = 1; i < data.length; i++) {\n             if (!_.isFinite(data[i][j]))\n                 continue\n             if (Math.abs(data[i][j]-y) < md) {\n                 md = Math.abs(data[i][j]-y)\n                 mi = i\n             }\n         }\n        }\n        return {i: mi, y: md}\n    }\n\n    let startIdx = -1\n    if (!startDate) {\n        const D = globalState.drawGrowthRatePlot.data\n        const ni = getNearestIdx(D, getAvg(D))\n        if (ni.i >= 0) {\n            startDate = D[ni.i][0]\n            startIdx = ni.i\n        }\n    }\n    if (startDate && startIdx < 0) {\n        startIdx = globalState.drawGrowthRatePlot.data.findIndex((r,i) => i > 0 && r[0].getTime() == startDate.getTime())\n    }\n\n    this.setState({\n      projPlotStart: {\n        gr: startIdx >= 0 ? globalState.drawGrowthRatePlot.data[startIdx].slice(1, -1) : [],\n        date: startDate,\n        series: globalState.drawGrowthRatePlot.data[0].slice(1, -1).map(c => c.label)\n      }\n    })\n\n    const plot = await projectGeneralPlot(selectedItems.length, globalState.drawChartPlot, globalState.drawGrowthRatePlot, startDate)\n\n\n    plot.gviz = GoogleCharts.api.visualization.arrayToDataTable(plot.data);\n\n    const dataMax = getMax(globalState.drawChartPlot.data)\n    const projDataMax = getMax(plot.data)\n\n    const safeMax = projDataMax > dataMax ? Math.min(4*dataMax, projDataMax) : dataMax\n\n    return {plot, safeMax}\n  }\n\n  /* Important: this function must be AFTER drawChart() and drawGrowthRateChart() */\n  async drawProjectionChart(field, selectedItems, startDate = null) {\n\n    const {plot, safeMax} = await this.calculateProjectionChart(field, selectedItems, startDate)\n\n    const options = {\n      legendFormatter: this.legendFormatter,\n      // labelsSeparateLines: true,\n      strokeWidth: 3,\n      legend: 'always',\n      labelsDiv: 'projLegendDiv',\n      colorValue: 1,\n      series: plot.options,\n      valueRange: [0, safeMax],\n    }\n\n    if (globalState.drawProjectionChartGraph)\n      globalState.drawProjectionChartGraph.destroy()\n\n    globalState.drawProjectionChartGraph = new Dygraph(\n      document.getElementById(\"projPlotDiv\"),\n      plot.gviz,\n      options\n    )\n    globalState.drawProjectionChartGraph.resize()\n\n    const g = globalState.drawProjectionChartGraph\n    g.ready(() => {\n          g.updateOptions({ \n              pointClickRadius: 50,\n              pointClickCallback: async (ev, point) => {\n                const i = point.idx\n                const data = globalState.drawChartPlot.data\n                const startDate = data[i+1][0]\n                const {plot, safeMax} = await this.calculateProjectionChart(field, selectedItems, startDate)\n                g.updateOptions({ \n                    file: plot.gviz,\n                    valueRange: [0, safeMax]\n                })\n              }\n          })\n    })\n\n\n  }\n\n  async drawTamponiChart(field, selectedItems) {\n\n    //await initProvinces()\n    //await initRegions() done internally by testsPlot()\n\n    const plotT = await testsPlot(field, selectedItems, 0)\n    const plotP = _.cloneDeep(plotT)\n\n    this.setState({ firstCasiTestati: plotT.firstCasiTestatiMap })\n\n    for (let i = 1; i < plotT.data.length; i++) {\n      for (let j = 1; 2 * j < plotT.data[i].length; j++) {\n        plotT.data[i][2 * j] = null\n        plotP.data[i][2 * (j - 1) + 1] = null\n      }\n    }\n\n    const yPBounds = smallYBounds(plotP.data.slice(1), 1)\n\n    plotT.gviz = GoogleCharts.api.visualization.arrayToDataTable(plotT.data);\n\n    plotP.gviz = GoogleCharts.api.visualization.arrayToDataTable(plotP.data);\n\n    const optionsT = {\n      legendFormatter: this.legendFormatter,\n      // labelsSeparateLines: true,\n      strokeWidth: 3,\n      legend: 'always',\n      labelsDiv: 'tampTLegendDiv',\n      colorValue: 1,\n      series: plotT.options,\n    }\n\n    globalState.drawTampTChartGraph = new Dygraph(\n      document.getElementById(\"tampTPlotDiv\"),\n      plotT.gviz,\n      optionsT\n    )\n    globalState.drawTampTChartGraph.resize()\n\n    const optionsP = _.clone(optionsT)\n    optionsP.labelsDiv = 'tampPLegendDiv'\n    optionsP.series = _.clone(optionsT.series)\n    optionsP.valueRange = [0, Math.min(100, yPBounds[1])]\n\n    globalState.drawTampPChartGraph = new Dygraph(\n      document.getElementById(\"tampPPlotDiv\"),\n      plotP.gviz,\n      optionsP\n    )\n    globalState.drawTampPChartGraph.resize()\n\n  }\n\n  async  _draw(field, selectedItems) {\n    switch (this.state.value) {\n      case 1:\n        await this.drawChart(field, selectedItems);\n        break;\n\n      case 2:\n        await this.drawTamponiChart(field, selectedItems)\n        break\n\n      case 3:\n        await this.drawGrowthRate(field, selectedItems);\n        break;\n\n      case 4:\n\n        // projectionChart needs up-to-date base chart and grow-rate-chart\n        await this.drawChart(field, selectedItems, false);\n        await this.drawGrowthRate(field, selectedItems, false);\n\n        await this.drawProjectionChart(field, selectedItems)\n\n        break;\n\n      default:\n        break\n    }\n  }\n\n  zoomVelocity() {\n\n    if (!globalState.drawChartGraph || !globalState.drawChartPlot)\n        return\n\n    const recentDateWindow = [moment().subtract(30, 'days').toDate(), new Date()]\n\n    const velocityPlots = globalState.drawChartPlot.data\n        .map((r,i) => i == 0 ? \n                r : \n                r.map((c,i) =>\n                    i == 0 || i % 2 == 0 ? \n                        c : \n                        'not-vel')\n                 .filter(c => c != 'not-vel'))\n        .filter((r,i) => i == 0 || r[0].getTime() >= recentDateWindow[0].getTime())\n                \n\n    const yBounds = smallYBounds(velocityPlots.slice(1), 5)\n\n    console.log(yBounds)\n\n    globalState.drawChartGraph.updateOptions({\n        valueRange: [0, yBounds[1]],\n        dateWindow: recentDateWindow\n    })\n  }\n\n  handleChange(event, value) {\n    if (value == 0) {\n        this.props.handleDrawerToggle()\n        return\n    }\n    const { field } = this.props;\n    const selectedItems = this.getSelectedItems(); \n    this.setState({ value: value }, () => {\n      this._draw(field, selectedItems)\n    })\n  }\n\n  getLabel() {\n    const { value } = this.state;\n    switch (value) {\n      default: return 'Approfondimento'\n    }\n  }\n\n  getContent() {\n\n    const {  \n        lastGrowthRates, value, projPlotStart, firstCasiTestati\n    } = this.state;\n\n    const lastGrowthRate = lastGrowthRates\n\n    const firstCasiTestatiDate = firstCasiTestati && new Date(Math.max(...firstCasiTestati.values()))\n    const firstCasiTestatiDateStr = firstCasiTestatiDate ? firstCasiTestatiDate.toLocaleString() : '[non disponibile]'\n\n    const tamponiExplanation = (\n      <div className=\"explanation\">\n        <Typography component=\"p\">\n          <br></br>\n          In questi due grafi viene rappresentata la percentuale di tamponi risultati positivi\n          e il numero totale di tamponi effettuati in un dato giorno.\n          <br></br>\n          <br></br>\n          Dettagli: a partire da giorno {firstCasiTestatiDateStr}, il numero dei tamponi e' sostituito dal numero \n          di \"casi testati\". Questo perche' i tamponi vengono fatti piu' volte ad una stessa persona. \n          \"Casi testati\", invece, non conta i tamponi duplicati, quindi una persona viene conteggiata una volta sola.\n          <br></br>\n          Prima di giorno {firstCasiTestatiDateStr}, questo parametro non era disponibile. Per piu' informazioni,\n          vedi  <a href=\"https://www.youtrend.it/2020/03/25/coronavirus-il-rebus-dei-tamponi-multipli/\">Lorenzo Ruffino</a>.\n          <br></br>\n          Nota: non e' disponibile il numero di tamponi per provincia, ma solo per regione.\n          <br></br>\n          Nota: nei primi giorni di cambio da \"tamponi\" a \"casi testati\", ci sono state delle irregolarita' nei dati di Lombardia, Lazio e Campania. Piu' precisamente, giorno 20 e 21 aprile, vedi <a href=\"https://github.com/pcm-dpc/COVID-19/blob/master/note/dpc-covid19-ita-note-it.csv\">Note DPC</a>.\n         </Typography>\n      </div>\n    )\n\n\n    switch (value) {\n           \n      case 1:\n            return (\n          <div className=\"explanation\">\n            <Typography component=\"p\">\n              Totale casi: sono tutte le persone che sono state certificate essere infette da coronavirus. Questo numero e' uguale alla somma \"persone attualmente positive\" + \"persone guarite\" + \"persone decedute\"\n            </Typography>\n            <br></br>\n            <Typography component=\"p\">\n              Velocita': indica quanto velocemente aumentano i casi. Se un giorno la velocita' e' 10, vuol dire che dal giorno precedente ci sono stati 10 casi in piu'.\n            </Typography>\n            <Typography component=\"p\">\n              Fai uno zoom sulla velocita': <button onClick={() => this.zoomVelocity()}>zoom</button>.\n            </Typography>\n            <br></br>\n          </div>\n        )\n\n      case 2: return tamponiExplanation;\n\n      case 3: return (\n        <div className=\"explanation\">\n          <Typography component=\"p\">\n            In data {lastGrowthRate?.date ? lastGrowthRate?.date.toLocaleString() : '[non-disponibile]'}, i growth rate sono:\n                      <br></br>\n            <br></br>\n            {\n              lastGrowthRate?.data ?\n                lastGrowthRate.data.map((d, i) =>\n                  <span key={i}>{d\n                    .map(n => _.isNumber(n) ? n.toFixed(4) : n)\n                    .join(' ')\n                  }\n                    <br></br></span>) :\n                '[non disponibile]'\n            }\n          </Typography>\n\n          <br></br>\n          <Typography component=\"p\">\n            Growth rate: rapporto tra la velocita' di un giorno e quella del giorno precedente. E' una quantita' importante perche' e' una stima della crescita della velocita'. Se il growth rate e' maggiore di 1, allora la velocita' sta' crescendo. Se e' minore, sta' diminuendo. L'epidemia finisce solo se la velocita' scende e rimane a zero.\n            </Typography>\n          <br></br>\n          <Typography component=\"p\">\n            La crescita del numero di casi in un'epidemia come il Coronavirus e' esponenziale.\n            In una crescita esponenziale anche valori poco piu' alti (growth rate > 1) implicano un'altissima crescita.\n            Ad esempio, se ci sono 100 infetti, con growth rate 1.22, solo dopo 30 giorni ci saranno 39000 infetti.\n          </Typography>\n          <br></br>\n          {exponentialGrowthComment}\n        </div>\n      );\n\n      case 4: return (\n          <div className=\"explanation\">\n            <Typography component=\"p\">\n              In questo grafo, viene usato il growth rate per mostrare <b>a grandi linee</b>{' '}\n              come procederebbe l'epidemia se non venissero fatte delle misure di contenimento e lock-down.\n              Senza misure di prevenzione, l'andamento dei nuovi casi sarebbe esponenziale.\n            </Typography>\n            {projPlotStart ? (\n                <Typography component=\"p\">\n                    L'andamento ipotetico graficato (linee tratteggiate) e' a partire da giorno {projPlotStart.date.toLocaleString()},\n                    dove i growth rate erano {projPlotStart.gr.map(r=>r.toFixed(3)).join(', ')} in {projPlotStart.series.join(', ')}.\n                    <br></br>\n                    Clicca su un punto del grafo per graficare l'andamento ipotetico a partire da quel punto. Verra' usato il growth rate di quel giorno (solo su desktop, non funziona da cellulare).\n                </Typography>\n                ) :\n                ''}\n\n          {exponentialGrowthComment}\n          </div>\n        )\n\n      default: return <div />\n    }\n  }\n\n\n  handleClose() {\n    this.setState({ open: false });\n  }\n\n  render() {\n\n    const maxWidth = window.innerWidth > window.innerWidth ?\n                        (window.innerWidth - 20/100*window.innerWidth) + 'px' :\n                        (window.innerWidth - 10/100*window.innerWidth) + 'px'\n\n    const maxHeight = window.innerHeight > window.innerWidth ?\n                        (window.innerHeight - 10/100*window.innerHeight) + 'px' :\n                        (window.innerHeight - 5/100*window.innerHeight) + 'px'\n\n    const { value } = this.state;\n\n    const provRegs = this.props.types == \"Regione\" ? 'regioni' : 'province'\n\n    const doubleClickZoomHint = (\n        <div style={{left:'60px', top:'10px', position: 'absolute', \"font-size\": 'small'}}>\n                Doppio click per resettare lo zoom\n        </div>\n    )\n\n    return (\n\n\n      <React.Fragment>\n        <Tabs \n            onChange={this.handleChange.bind(this)} aria-label=\"ploty tabs\" \n                  variant=\"fullWidth\"\n                  scrollButtons=\"auto\"\n                  className='generalTabs'\n                  value={this.state.value}\n      >\n          <Tab label={\"Altre \"+provRegs}/>\n          <Tab label=\"Totale casi\" />\n          <Tab label=\"Tamponi\" />\n          <Tab label=\"Growth Rate\" />\n          <Tab label=\"Exp Growth Rate\" />\n        </Tabs>\n        <TabPanel label={\"Altre \"+provRegs} value={value} index={0} >\n        empty\n        </TabPanel>\n        <TabPanel label={\"Totale casi\"} value={value} index={1} >\n          <div id=\"totaleCasi\" style={{height:'100%'}}>\n          <Grid container style={{height:(window.innerHeight*75/100)+'px'\n          }}>\n            <Grid item xs={12} md={12} className=\"containerLegend\">\n              <div id='legendDiv'></div>\n              </Grid>\n\n              <Grid item xs={12} md={12} style={{\n                  position: 'relative',\n                  width: '90%',\n                  height: '100%',\n                  maxWidth,\n                 }}>\n                {doubleClickZoomHint}\n                <div id='plotDiv' style={{ width: '100%',height:'100%' }}></div>\n              </Grid>\n              <Grid item xs={12}>\n           {this.getContent()}       \n           </Grid>\n            </Grid>\n          </div>\n        </TabPanel>\n        <TabPanel label={\"Tamponi\"} value={value} index={2}>\n          <div>\n            <Grid container style={{ height: window.innerHeight * 75 / 100 + 'px' }}>\n              <Grid item xs={12} md={12} className=\"containerLegend\">\n                <div id='tampPLegendDiv'></div>\n              </Grid>\n              <Grid item xs={12} md={12} style={{ position: 'relative', width: '100%', height: '100%', maxWidth }}>\n                {doubleClickZoomHint}\n                <div id='tampPPlotDiv' style={{ width: '100%', height: '100%' }}></div>\n              </Grid>\n\n\n\n              <Grid item xs={12} md={12} style={{ position: 'relative', width: '100%', height: '100%', maxWidth }}>\n                {doubleClickZoomHint}\n                <div id='tampTPlotDiv' style={{ width: '100%', height: '100%' }}></div>\n              </Grid>\n              <Grid item xs={12} md={12} className=\"containerLegend\">\n                <div id='tampTLegendDiv'></div>\n              </Grid>\n\n              <Grid item xs={12}>\n                {this.getContent()}\n              </Grid>\n            </Grid>\n          </div>\n\n        </TabPanel>\n\n        <TabPanel label={\"Growth Rate\"} value={value} index={3}>\n          <div>\n          <Grid container style={{height:window.innerHeight*75/100+'px'}}>\n               <Grid item xs={12} md={12} className=\"containerLegend\">\n                  <div id='growthRateLegendDiv'></div>\n               </Grid>\n               <Grid item xs={12} md={12} style={{ position: 'relative', width: '100%',height:'100%',maxWidth}}>\n                  {doubleClickZoomHint}\n                  <div id='growthRatePlotDiv' style={{ width: '100%',height:'100%'  }}></div>\n               </Grid>\n               <Grid item xs={12}>\n                 {this.getContent()}       \n               </Grid>\n            </Grid>\n          </div>\n        </TabPanel>\n\n        <TabPanel label={\"Proiezione\"} value={value} index={4}>\n          <div>\n              <Grid container style={{height:window.innerHeight*75/100+'px'}}>\n                  <Grid item xs={12} md={12} className=\"containerLegend\">\n                      <div id='projLegendDiv'></div>\n                  </Grid>\n                  <Grid item xs={12} md={12} style={{ position: 'relative', width: '100%',height:'100%',maxWidth}}>\n                      {doubleClickZoomHint}\n                      <div id='projPlotDiv' style={{ width: '100%',height:'100%'  }}></div>\n                  </Grid>\n                  <Grid item xs={12}>\n                      {this.getContent()}       \n                  </Grid>\n              </Grid>\n          </div>\n\n        </TabPanel>\n      </React.Fragment>\n    );\n  }\n}\nexport default PlotComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport { Drawer, Grid } from '@material-ui/core';\nimport Hidden from '@material-ui/core/Hidden';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport IconButton from '@material-ui/core/IconButton';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MailIcon from '@material-ui/icons/Mail';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport MultiSelect from './multiselect'\nimport { init as initProvinces } from 'covid-web/provinces'\nimport Ploty from './ploty'\nimport { getProvinces, getRegions } from 'covid-web/totaleCasi';\n\nconst drawerWidth = 300;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  menuButton: {\n    border:'solid 1px #FFF',\n    borderRadius:'15px',\n    fontSize:'10px',\n    // marginRight: theme.spacing(2),\n    padding:'3px',\n    fontSize:'1rem'\n  },\n  // necessary for content to be below app bar\n  drawerPaper: {\n    // width: drawerWidth,\n    background: '#2c2e35',\n    color: '#FFF',\n    textAlign: 'center'\n  },\n  content: {\n    // flexGrow: 1,\n    // padding: theme.spacing(3),\n  },\n}));\n\nexport default function PersistentDrawerRight(props) {\n  const { container } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const [types, setTypes] = React.useState('Provincia');\n  const [province, setProvince] = React.useState([])\n  const [regioni, setRegioni] = React.useState([])\n  const [regionValues, setRegionValues] = React.useState([\"Lombardia\", \"Veneto\"])\n  const [provinceValues, setProvinceValues] = React.useState([\"Bergamo\", \"Milano\", \"Venezia\"])\n  function setSelectedProvince(newValue) {\n    setProvinceValues(newValue)\n  }\n  function setSelectedRegion(newValue) {\n    setRegionValues(newValue)\n  }\n  React.useEffect(() => {\n\n    const foo = async () => {\n      await initProvinces()\n\n      setProvince(getProvinces().sort())\n      setRegioni(getRegions().sort())\n    }\n\n    foo()\n\n  }, [])\n\n  const handleType = (event, newFormats) => {\n    setTypes(newFormats);\n  };\n\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} >\n        <Grid container style={{ position: 'relative', top: '15px' }}>\n          <Grid item xs={6}>\n            <Typography variant=\"h6\" noWrap style={{ paddingLeft: 10, paddingBottom: 20 }}>\n              Filtra\n           </Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <ArrowBackIosIcon style={{ float: 'right', cursor: 'pointer' }}\n              onClick={handleDrawerToggle}\n\n            />\n\n          </Grid>\n\n        </Grid>\n\n\n      </div>\n      <Divider />\n      <ToggleButtonGroup exclusive value={types} onChange={handleType} aria-label=\"aree_buttons\">\n        <ToggleButton value=\"Nazione\" aria-label=\"bold\">\n          Nazione\n        </ToggleButton>\n        <ToggleButton value=\"Regione\" aria-label=\"bold\">\n          Regioni\n            </ToggleButton>\n        <ToggleButton value=\"Province\" aria-label=\"bold\">\n          Province\n            </ToggleButton>\n      </ToggleButtonGroup>\n      <Divider />\n      <div style={{ display: types === 'Regione' ? 'block' : 'none' }}>\n        <MultiSelect id=\"regione\" values={regionValues} setvalue={setSelectedRegion} type={'Regioni'} lists={regioni} />\n      </div>\n      <div style={{ display: types === 'Province' ? 'block' : 'none' }}>\n        <MultiSelect id=\"province\" values={provinceValues} setvalue={setSelectedProvince} type={'Province'} lists={province} />\n      </div>\n      <div style={{ display: types === 'Nazione' ? 'block' : 'none' }}>\n        <MultiSelect id=\"nazione\" values={[\"Italia\"]} type={'Nazione'} lists={[\"Italia\"]} />\n      </div>\n\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      {/*\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n        </Toolbar>\n      </AppBar>\n      */}\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Drawer\n          container={container}\n          variant=\"temporary\"\n          anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n          open={mobileOpen}\n          onClose={handleDrawerToggle}\n          classes={{\n            paper: classes.drawerPaper,\n          }}\n          ModalProps={{\n            keepMounted: true, // Better open performance on mobile.\n          }}\n        >\n          {drawer}\n        </Drawer>\n      </nav>\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n      {!mobileOpen ?\n        <Ploty \n          handleDrawerToggle={handleDrawerToggle}\n          types={types}\n          field={\n           types === \"Regione\"\n            ? 'denominazione_regione'\n            : 'denominazione_provincia'}\n          regionValues={regionValues}\n          provinceValues={provinceValues}\n        /> :\n        <></>}\n      </main>\n    </div>\n\n  );\n}\n","import React from 'react';\nimport './App.css';\nimport Layout from './components/layout'\nimport {Grid,Typography} from '@material-ui/core'\nfunction App() {\n\n  return (\n    <div id='App'>\n      <Grid container>\n        <Grid item xs={12}>\n        <Layout />\n\n        </Grid>\n        {/* <Grid item xs={12} className='footer'>\n    \n          <Typography component=\"p\">\n          I dati rappresentati in questi grafici sono forniti dalla <a href=\"https://github.com/pcm-dpc/COVID-19\">Protezione Civile</a>\n          </Typography>\n        </Grid> */}\n      </Grid>\n  \n  \n    </div>\n\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}